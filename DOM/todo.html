<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <title>To-Do</title>

    <style>
        body{
            font-family: "Quicksand", sans-serif;
            display: grid;
            grid-template-columns: 400px 1fr;
        }

        h1{
            grid-column: 1/3;
        text-align: center;        }

        .form{
            grid-column: 1/2;
            justify-content: center;
            display: flex;
            flex-direction: column;
            margin: 50px;
            
        }

        .lista{
            grid-column: 2/3;
            margin-left: 100px;
            display: flex;
        }

        .card{
            height: auto;
            width: 300px;
            background-color: aliceblue;
            border: 2px solid rgb(224, 240, 253);
            display: flex;
            flex-direction: column;
            padding: 10px;
            margin: 10px;
        }

        .card p{
            margin: 5px;
        }

        .card button{
            margin: 5px;
        }

        .card input[type=text],
        .card input[type=date],
        .card select,
        .card textarea {
            display: none;
        }

        .card .editMode input[type=text],
        .card .editMode input[type=date],
        .card .editMode select,
        .card .editMode textarea {
            display: block;
        }

        .card .editMode label {
            display: none;
        }
    </style>
</head>
<body>

    <h1>To-Do</h1>

    <div class="form">

    

        <form  id="todoForm">

            <h3>Introducir tarea:</h3>

            <label for="tarea">Tarea:</label><br>
            <input type="text" id="tarea" name="tarea"><br>

            <label for="tiempo">Tiempo:</label><br>
            <input type="number" id="tiempo" name="tiempo" placeholder="Horas"><br>

            <label for="deadline">Deadline:</label><br>
            <input type="date" id="deadline" name="deadline"><br>

            <label for="alta">Alta:</label><br>
            <input type="date" id="alta" name="alta"><br>

            <label for="estado">Estado:</label><br>
            <select type="text" id="estado" name="estado">
                <option value="Activo">Activo</option>
                <option value="Pendiente">Pendiente</option>
                <option value="Terminado">Terminado</option>
            </select><br>

            <label for="desc">Descripci칩n:</label><br>
            <textarea type="text" id="desc" name="desc"></textarea>

            <input type="submit" value="Submit">

        </form> 

        <label>Ordenar por:</label>
            <select id="ordenarPor">
                <option value="tiempo">Tiempo</option>
                <option value="estado">Estado</option>
                <option value="nombre">Nombre</option>
            </select>
        <button id="ordenarBtn">Ordenar</button>

    </div>

    

    <div class="lista" id="lista">
        
            <div class="card">
                <p>0</p>
                
                <p style="font-weight: bold;">Nombre:</p>
                <label id="lNombre">Prueba</label>
                
                <p style="font-weight: bold;">Tiempo:</p>
                <label id="lTiempo">30 a침os</label>

                <p style="font-weight: bold;">Deadline:</p>
                <label id="lDead">???</label>

                <p style="font-weight: bold;">Alta:</p>
                <label id="lAlta">28/09/1994</label>

                <p style="font-weight: bold;">Estado:</p>
                <label id="lEstado">Viva</label>
 
                <p style="font-weight: bold;">Descripci칩n:</p>
                <label id="lDesc">Monday you could fall apart, Tuesday Wednesday break my heart, 
                    Thursday doesn't event start but Friday I'm in love</label>
 
                <button class="eliminar">Eliminar</button>
                <button class="modificar">Modificar</button>

            </div>
        </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    let count = 0;
    let tareas = [];

    const lista = document.getElementById('lista');
    const form = document.getElementById('todoForm');
    const ordenarBtn = document.getElementById('ordenarBtn');
    const ordenarPor = document.getElementById('ordenarPor');

    // Crear tarea y agregar al array
    form.addEventListener('submit', function (event) {
        event.preventDefault();
        count++;

        const nuevaTarea = {
            id: count,
            nombre: document.getElementById('tarea').value,
            tiempo: parseInt(document.getElementById('tiempo').value, 10),
            deadline: document.getElementById('deadline').value,
            alta: document.getElementById('alta').value,
            estado: document.getElementById('estado').value,
            descripcion: document.getElementById('desc').value,
        };

        tareas.push(nuevaTarea);
        renderTareas(); // Renderiza las tareas en la interfaz
        form.reset();
    });

    // Renderizar tareas
    function renderTareas() {
        lista.innerHTML = ''; // Limpia la lista actual
        tareas.forEach(tarea => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <p style="font-weight: bold;">ID: ${tarea.id}</p>
                
                <p style="font-weight: bold;">Nombre:</p>
                <label>${tarea.nombre}</label>
                <input id="iNombre" type="text" value="${tarea.nombre}">
                
                <p style="font-weight: bold;">Tiempo:</p>
                <label>${tarea.tiempo}</label>
                <input id="iTiempo" type="number" value="${tarea.tiempo}">

                <p style="font-weight: bold;">Deadline:</p>
                <label>${tarea.deadline}</label>
                <input id="iDead" type="date" value="${tarea.deadline}">

                <p style="font-weight: bold;">Alta:</p>
                <label>${tarea.alta}</label>
                <input id="iAlta" type="date" value="${tarea.alta}">

                <p style="font-weight: bold;">Estado:</p>
                <label>${tarea.estado}</label>
                <select id="iEstado">
                    <option value="Activo" ${tarea.estado === 'Activo' ? 'selected' : ''}>Activo</option>
                    <option value="Pendiente" ${tarea.estado === 'Pendiente' ? 'selected' : ''}>Pendiente</option>
                    <option value="Terminado" ${tarea.estado === 'Terminado' ? 'selected' : ''}>Terminado</option>
                </select>
                
                <p style="font-weight: bold;">Descripci칩n:</p>
                <label>${tarea.descripcion}</label>
                <textarea id="iDesc">${tarea.descripcion}</textarea>
                
                <button class="eliminar">Eliminar</button>
                <button class="modificar">Modificar</button>
            `;

            // Eliminar tarea
            card.querySelector('.eliminar').addEventListener('click', function () {
                tareas = tareas.filter(t => t.id !== tarea.id); // Filtrar tarea eliminada
                renderTareas(); // Actualizar la vista
            });

            // Modificar tarea
            card.querySelector('.modificar').addEventListener('click', function () {
                const editMode = card.classList.toggle('editMode');
                if (!editMode) {
                    // Guardar cambios
                    tarea.nombre = card.querySelector('#iNombre').value;
                    tarea.tiempo = parseInt(card.querySelector('#iTiempo').value, 10);
                    tarea.deadline = card.querySelector('#iDead').value;
                    tarea.alta = card.querySelector('#iAlta').value;
                    tarea.estado = card.querySelector('#iEstado').value;
                    tarea.descripcion = card.querySelector('#iDesc').value;
                    renderTareas(); // Actualizar la vista
                }
            });

            lista.appendChild(card);
        });
    }

    // Ordenar tareas
    ordenarBtn.addEventListener('click', function () {
        const criterio = ordenarPor.value;
        tareas.sort((a, b) => {
            if (criterio === 'tiempo') return a.tiempo - b.tiempo;
            if (criterio === 'estado') return a.estado.localeCompare(b.estado);
            if (criterio === 'nombre') return a.nombre.localeCompare(b.nombre);
        });
        renderTareas(); // Actualizar vista tras ordenar
    });
});

    </script>

</body>
</html>
